function geSangamActivation(){var n="";return $(".sangamActivationCheckbox:checked").each(function(){n+=$(this).val()+","}),n=n.slice(0,-1),n==""&&(n=0),n}function setSangamActivation(n){var t=n.split(",");$.each(t,function(n,t){$(".sangamActivationCheckbox").each(function(){t.toString().trim()=="1"&&$(this).attr("checked","true")})})}function geActivation(n){var t="";return $("."+n+":checked").each(function(){t+=$(this).val()+","}),t=t.slice(0,-1),t==""&&(t=0),t}function setActivation(n,t){if(n!=null){var i=n.split(",");$.each(i,function(n,i){$("."+t).each(function(){i.toString().trim()=="1"&&$(this).attr("checked","true")})})}}var ControllerRole=angular.module("MugurthamApp").controller("ControllerRole",["$http","$scope","$rootScope","$routeParams",function(n,t,i,r){t.controllerName="ControllerRole";t.globalProfileID=i.globalProfileID;t.globalRoleID="";typeof r.RoleID!="undefined"&&(t.globalRoleID=r.RoleID);t.frmData=[];t.ID="";t.Name="";t.Description="";t.saveFormData=function(){t.initFormData();t.globalRoleID==""?t.Add():t.Edit()};t.initFormData=function(){t.Name=t.frmData[0].Name;t.Description=t.frmData[0].Description};t.Add=function(){n({method:"post",url:"/Role/RoleAPI",data:$.param({Name:t.frmData[0].Name,ID:t.frmData[0].ID,Description:t.frmData[0].Description}),headers:{"content-Type":"application/x-www-form-urlencoded"}}).success(function(){NotifySuccessStatus("11")}).error(function(n,t){NotifyErrorStatus(n,t)})};t.getRoleByID=function(){var i="/Role/RoleAPI/"+t.globalRoleID;n({method:"GET",url:i}).success(function(n){t.frmData.push({ID:n.ID,Name:n.Name,Description:n.Description})}).error(function(n,t){NotifyErrorStatus(n,t)})};t.Edit=function(){n({method:"PUT",url:"/Role/RoleAPI",data:$.param({Name:t.frmData[0].Name,ID:t.frmData[0].ID,Description:t.frmData[0].Description}),headers:{"content-Type":"application/x-www-form-urlencoded"}}).success(function(){NotifySuccessStatus("12")}).error(function(n,t){NotifyErrorStatus(n,t)})};t.getAllRoles=function(){$("#divContainer").mask("Loading all roles please wait...");n({method:"GET",url:"/Role/RoleAPI"}).success(function(n){$("#divContainer").unmask();t.AllRoles=n}).error(function(n,t){$("#divContainer").unmask();NotifyErrorStatus(n,t)})}}]),ControllerSangam=angular.module("MugurthamApp").controller("ControllerSangam",["$http","$scope","$rootScope","$routeParams",function(n,t,i,r){t.controllerName="ControllerSangam";t.globalProfileID=i.globalProfileID;t.globalSangamID="";typeof r.SangamID!="undefined"&&(t.globalSangamID=r.SangamID);t.frmData=[];t.ID="";t.Name="";t.Address="";t.ContactNumber="";t.ProfileIDStartsWith="";t.AboutSangam="";t.LogoPath="";t.BannerPath="";t.saveFormData=function(){t.initFormData();t.globalSangamID==""?t.Add():t.Edit()};t.initFormData=function(){t.Name=t.frmData[0].Name;t.Address=t.frmData[0].Address;t.ContactNumber=t.frmData[0].ContactNumber;t.ProfileIDStartsWith=t.frmData[0].ProfileIDStartsWith;t.AboutSangam=t.frmData[0].AboutSangam;t.LogoPath=t.frmData[0].LogoPath;t.BannerPath=t.frmData[0].BannerPath};t.Add=function(){n({method:"post",url:"/Sangam/SangamAPI",data:$.param({Name:t.frmData[0].Name,ID:t.frmData[0].ID,Address:t.frmData[0].Address,ContactNumber:t.frmData[0].ContactNumber,ProfileIDStartsWith:t.frmData[0].ProfileIDStartsWith,AboutSangam:t.frmData[0].AboutSangam,LogoPath:t.frmData[0].LogoPath,BannerPath:t.frmData[0].BannerPath,IsActivated:geSangamActivation()}),headers:{"content-Type":"application/x-www-form-urlencoded"}}).success(function(){NotifySuccessStatus("13")}).error(function(n,t){NotifyErrorStatus(n,t)})};t.getSangamByID=function(){if(t.globalSangamID!=""){var i="/Sangam/SangamAPI/"+t.globalSangamID;n({method:"GET",url:i}).success(function(n){t.frmData.push({ID:n.ID,Name:n.Name,Address:n.Address,ContactNumber:n.ContactNumber,ProfileIDStartsWith:n.ProfileIDStartsWith,AboutSangam:n.AboutSangam,LogoPath:n.LogoPath,BannerPath:n.BannerPath,IsActivated:setSangamActivation(n.IsActivated)})}).error(function(n,t){NotifyErrorStatus(n,t)})}};t.Edit=function(){n({method:"PUT",url:"/Sangam/SangamAPI",data:$.param({Name:t.frmData[0].Name,ID:t.frmData[0].ID,Address:t.frmData[0].Address,ContactNumber:t.frmData[0].ContactNumber,ProfileIDStartsWith:t.frmData[0].ProfileIDStartsWith,AboutSangam:t.frmData[0].AboutSangam,LogoPath:t.frmData[0].LogoPath,BannerPath:t.frmData[0].BannerPath,IsActivated:geSangamActivation()}),headers:{"content-Type":"application/x-www-form-urlencoded"}}).success(function(){NotifySuccessStatus("14")}).error(function(n,t){NotifyErrorStatus(n,t)})};t.getAllSangams=function(){$("#divContainer").mask("Loading all sangams please wait...");n({method:"GET",url:"/SangamAPI/SangamAPI/GetAllWithoutRestrictions"}).success(function(n){$("#divContainer").unmask();t.AllSangams=n}).error(function(n,t){$("#divContainer").unmask();NotifyErrorStatus(n,t)})}}]),ControllerUser=angular.module("MugurthamApp").controller("ControllerUser",["$http","$scope","$rootScope","$routeParams",function(n,t,i,r){function u(){var i="0",r="0",u;t.userFormData=[];t.globalUserID!=""&&(u="/MugurthamUserLookup/UserAPI/Get/"+t.globalUserID,n({method:"GET",url:u}).success(function(n){n.IsHighlighted!=null&&(i=n.IsHighlighted.toString());n.ShowHoroscope!=null&&(r=n.ShowHoroscope.toString());t.userFormData.push({ID:n.ID,Name:n.Name,LoginID:n.LoginID,Password:n.Password,RoleID:n.RoleID,ThemeID:n.ThemeID,LocaleID:n.LocaleID,IsActivated:setActivation(n.IsActivated,"userActivationCheckbox"),IsHighlighted:setActivation(i,"userHighlightedCheckbox"),ShowHoroscope:setActivation(r,"userShowHoroscope"),SangamID:n.SangamID});$("#ddlSangams").val(n.SangamID)}).error(function(n,t){NotifyErrorStatus(n,t)}))}t.controllerName="ControllerUser";t.globalProfileID=i.globalProfileID;t.globalUserID="";typeof r.UserID!="undefined"&&(t.globalUserID=r.UserID);t.userFormData=[];t.arrSangamID;t.arrRoleID;t.ID="";t.Name="";t.LoginID="";t.Password="";t.SangamID="";t.RoleID="";t.ThemeID="";t.LocaleID="";t.IsActivated="";t.IsHighlighted="";t.ShowHoroscope="";t.saveFormData=function(){t.initFormData();t.globalUserID==""?t.Add():t.Edit()};t.initFormData=function(){t.Name=t.userFormData[0].Name;t.LoginID=t.userFormData[0].LoginID;t.Password=t.userFormData[0].Password;t.RoleID=t.userFormData[0].RoleID;t.ThemeID=t.userFormData[0].ThemeID;t.LocaleID=t.userFormData[0].LocaleID;t.IsActivated=t.userFormData[0].IsActivated;t.SangamID=t.userFormData[0].SangamID;t.IsHighlighted=t.userFormData[0].IsHighlighted;t.ShowHoroscope=t.userFormData[0].ShowHoroscope};t.Add=function(){n({method:"post",url:"/MugurthamUser/UserAPI",data:$.param({Name:t.userFormData[0].Name,ID:t.userFormData[0].ID,LoginID:t.userFormData[0].LoginID,Password:t.userFormData[0].Password,SangamID:$("#ddlSangams").val(),RoleID:$("#ddlRoles").val(),ThemeID:t.userFormData[0].ThemeID,LocaleID:t.userFormData[0].LocaleID,IsActivated:t.userFormData[0].IsActivated,IsHighlighted:t.userFormData[0].IsHighlighted,ShowHoroscope:t.userFormData[0].ShowHoroscope}),headers:{"content-Type":"application/x-www-form-urlencoded"}}).success(function(){NotifySuccessStatus("9")}).error(function(n,t){NotifyErrorStatus(n,t)})};t.Edit=function(){var i="",r="";i=typeof $("#ddlSangams").val()=="undefined"?t.userFormData[0].SangamID:$("#ddlSangams").val();r=typeof $("#ddlRoles").val()=="undefined"?t.userFormData[0].RoleID:$("#ddlRoles").val();n({method:"PUT",url:"/MugurthamUser/UserAPI/Put",data:$.param({Name:t.userFormData[0].Name,ID:t.globalUserID,LoginID:t.userFormData[0].LoginID,Password:t.userFormData[0].Password,SangamID:i,RoleID:r,ThemeID:t.userFormData[0].ThemeID,LocaleID:t.userFormData[0].LocaleID,IsActivated:geActivation("userActivationCheckbox"),IsHighlighted:geActivation("userHighlightedCheckbox"),ShowHoroscope:geActivation("userShowHoroscope")}),headers:{"content-Type":"application/x-www-form-urlencoded"}}).success(function(){NotifySuccessStatus("10")}).error(function(n,t){NotifyErrorStatus(n,t)})};t.getAllUsers=function(){$("#divContainer").mask("Loading all users please wait...");n({method:"GET",url:"/MugurthamUserLookup/UserAPI/GetAll"}).success(function(n){$("#divContainer").unmask();t.AllUsers=n}).error(function(n,t){$("#divContainer").unmask();NotifyErrorStatus(n,t)})};t.getAllSangamUsers=function(i){$("#divContainer").mask("Loading all users please wait...");n({method:"GET",url:"/MugurthamUserLookup/UserAPI/GetAllSangamUsers/"+i}).success(function(n){$("#divContainer").unmask();t.AllUsers=n}).error(function(n,t){$("#divContainer").unmask();NotifyErrorStatus(n,t)})};t.getLookup=function(){n({method:"GET",url:"/Lookup/LookupAPI"}).success(function(n){t.arrSangamID=n.SangamCoreEntity;t.arrRoleID=n.RoleCoreEntity;$("#ddlSangam").empty();u()}).error(function(n,t){NotifyErrorStatus(n,t)})};t.saveUserSettings=function(i,r,u,f,e){n({method:"PUT",url:"/MugurthamUser/UserAPI/Put",data:$.param({Name:i,ID:r,LoginID:u,Password:t.userFormData[0].Password,SangamID:f,RoleID:e,ThemeID:t.userFormData[0].ThemeID,LocaleID:t.userFormData[0].LocaleID,IsActivated:"1",IsHighlighted:t.userFormData[0].IsHighlighted,ShowHoroscope:t.userFormData[0].ShowHoroscope}),headers:{"content-Type":"application/x-www-form-urlencoded"}}).success(function(){NotifySuccessStatus("10")}).error(function(n,t){NotifyErrorStatus(n,t)})};t.getUserSettingsByID=function(i){t.userFormData=[];var r="/MugurthamUserLookup/UserAPI/Get/"+i;n({method:"GET",url:r}).success(function(n){t.userFormData=[];t.userFormData.push({ID:n.ID,Name:n.Name,LoginID:n.LoginID,Password:n.Password,RoleID:n.RoleID,ThemeID:n.ThemeID,LocaleID:n.LocaleID,IsHighlighted:n.IsHighlighted,ShowHoroscope:t.userFormData[0].ShowHoroscope,SangamID:n.SangamID})}).error(function(n,t){NotifyErrorStatus(n,t)})}}]);